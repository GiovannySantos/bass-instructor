<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="Mestre do Groove: ferramenta de estudo para baixo com escalas, NNS e metrônomo integrado."
    />
    <meta name="theme-color" content="#0b0f14" />
    <title>Mestre do Groove v2.0</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header class="hero">
      <div>
        <p class="eyebrow">Ferramenta para músicos</p>
        <h1>Mestre do Groove <span>v2.0</span></h1>
        <p class="subtitle">
          Explore escalas, destaque graus no braço do baixo e treine com o
          metrônomo integrado.
        </p>
      </div>
    </header>
    <div class="offline-warning" id="offlineWarning" role="alert">
      Para executar os módulos JavaScript, abra este projeto usando um servidor
      local (ex: <code>python -m http.server</code>).
    </div>

    <main class="dashboard">
      <section class="card">
        <h2>Configurações</h2>
        <div class="controls">
          <label class="field">
            <span>Tom</span>
            <select id="keySelect" aria-label="Selecionar tom"></select>
          </label>
          <label class="field">
            <span>Escala</span>
            <select id="scaleSelect" aria-label="Selecionar escala"></select>
          </label>
          <div class="button-group">
            <button id="btnTriad" type="button">Tríade (1-3-5)</button>
            <button id="btnTetrad" type="button">Tétrade (1-3-5-7)</button>
            <button id="btnConnectors" type="button">Conectores (Escala)</button>
          </div>
        </div>
        <div class="legend" aria-label="Legenda de cores">
          <div class="legend-item">
            <span class="dot root"></span>Tônica
          </div>
          <div class="legend-item">
            <span class="dot third"></span>3ª
          </div>
          <div class="legend-item">
            <span class="dot fifth"></span>5ª
          </div>
          <div class="legend-item">
            <span class="dot seventh"></span>7ª
          </div>
          <div class="legend-item">
            <span class="dot scale"></span>Passagem
          </div>
        </div>
      </section>

      <section class="card">
        <h2>Nashville Number System</h2>
        <div class="nns-grid" id="nnsGrid" aria-live="polite"></div>
        <p class="helper">
          Passe o mouse em um grau para destacar todas as notas equivalentes no
          braço.
        </p>
      </section>

      <section class="card fretboard-container">
        <h2>Mapa do Braço (Graus &amp; Equivalências)</h2>
        <div class="fretboard-wrapper" aria-label="Mapa do braço do baixo">
          <div class="fretboard" id="fretboard"></div>
          <div class="fret-numbers" id="fretNumbers"></div>
        </div>
      </section>

      <section class="card">
        <h2>Gerador de Groove</h2>
        <div class="challenge-display">
          <div class="progression" id="progressionText">
            Toque em "Sortear"
          </div>
          <div class="bpm-box">
            BPM: <span id="bpmDisplay">--</span>
          </div>
        </div>
        <div class="controls spaced">
          <button id="btnChallenge" type="button">Sortear Desafio</button>
        </div>
      </section>

      <section class="card">
        <h2>Metrônomo</h2>
        <div class="metronome">
          <button id="metronomeToggle" type="button">Play</button>
          <div class="slider-group">
            <label for="bpmSlider">Velocidade</label>
            <input
              id="bpmSlider"
              type="range"
              min="40"
              max="200"
              value="96"
            />
          </div>
          <div class="bpm-readout">
            <span id="bpmValue">96</span> BPM
          </div>
        </div>
      </section>
    </main>

    <script type="module" src="js/app.js"></script>
  </body>
</html>
